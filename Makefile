# Makefile for the VERSEM Python suite
#
#
.PHONY: all init test docs clean


all: clean init test

# Initializing installation
init:
	pip install -r requirements.txt

# Testing installation
test:
	py.test tests

# Make Documentation
docs:
	make clean -C docs
	sphinx-apidoc -o ./docs/source/autogenerated/src ./src [*.rst *.npy]
	sphinx-apidoc -o ./docs/source/autogenerated/tests ./tests [*.rst *.npy]
	sphinx-apidoc -o ./docs/source/autogenerated/input ./input [*.rst *.npy]
	make html -C docs

# Cleaning up
cleanresults:
	rm -rf results/timesteps
	rm -f results/gll_coordinates.npy
	rm -f results/force_term.npy
	rm -f results/force_location.npy

		
# Clean all
clean:
	make clean -C docs
